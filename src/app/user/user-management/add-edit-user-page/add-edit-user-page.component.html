<mat-card class="user-card">
  <div class="dialog-header">
    <h2>{{ userData ? 'Edit User' : 'Add User' }}</h2>
    <button mat-icon-button color="warn" (click)="onCancel()">
      <mat-icon>close</mat-icon>
    </button>
  </div>

  <form [formGroup]="form" (ngSubmit)="onSubmit()" class="form-grid">

    <mat-form-field appearance="outline">
      <mat-label>User ID</mat-label>
      <input maxlength="20" [appPatternRestrict]="pattern.alphabetsNumbersOnly" matInput formControlName="userId">
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Name</mat-label>
      <input maxlength="20" [appPatternRestrict]="pattern.alphaNumericWithSpace" matInput formControlName="name">
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Email</mat-label>
      <input maxlength="20" [appPatternRestrict]="pattern.email" matInput formControlName="email">
    </mat-form-field>

     <mat-form-field appearance="outline">
      <mat-label>Mobile Number</mat-label>
      <input maxlength="20" [appPatternRestrict]="pattern.mobile" matInput formControlName="mobileNumber">
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Device ID</mat-label>
      <input maxlength="20" [appPatternRestrict]="pattern.alphabetsNumbersOnly" matInput formControlName="deviceId">
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>IPv4</mat-label>
      <input maxlength="20" [appPatternRestrict]="pattern.ipv4" matInput formControlName="ipv4">
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>IPv6</mat-label>
      <input maxlength="20" matInput formControlName="ipv6">
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Wallet Type</mat-label>
      <mat-select formControlName="wallet_type">
        <mat-option *ngFor="let type of walletTypes" [value]="type">{{ type }}</mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Share</mat-label>
      <input maxlength="2" [appPatternRestrict]="pattern.mobile" matInput formControlName="share">
    </mat-form-field>

    <button mat-raised-button color="primary" type="submit" [disabled]="loading">
      <mat-spinner *ngIf="loading" diameter="20"></mat-spinner>
      {{ loading ? 'Saving...' : (userData ? 'Update User' : 'Add User') }}
    </button>
  </form>
</mat-card>